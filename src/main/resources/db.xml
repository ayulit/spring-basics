<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"

	xsi:schemaLocation="http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans.xsd
		">
		
	<bean id="dbLogger" 
			class="com.yet.spring.core.loggers.DBLogger" 
			init-method="init"
			destroy-method="destroy">
			
			<constructor-arg ref="jdbcTemplate"/>
			<constructor-arg value="${jdbc.username}"/>        		
	</bean>

	<!-- DATABASE CONFIG  -->
	
	<bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
		<constructor-arg ref="dataSource"/>
	</bean>
	
	<!-- dataSource is like generalised factory for connections  -->
	<!-- We will use Spring's realization of 'dataSource'  -->
	<bean id="dataSource" 
	      class="org.springframework.jdbc.datasource.DriverManagerDataSource">
	      
	      <!-- here we go with connection parameters using .property file -->
	      <property name="driverClassName" value="${jdbc.driverClassName}"/>
	      <property name="url" value="${jdbc.url}"/>
	      <property name="username" value="${jdbc.username}"/>
	      <property name="password" value="${jdbc.password}"/>	      	      
	</bean>        

        
</beans>